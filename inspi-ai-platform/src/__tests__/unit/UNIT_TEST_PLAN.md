# ğŸ§ª å•å…ƒæµ‹è¯•è®¡åˆ’

## ğŸ“‹ æµ‹è¯•è¦†ç›–ç›®æ ‡

### å½“å‰æµ‹è¯•è¦†ç›–ç‡åˆ†æ
- **ç°æœ‰æµ‹è¯•**: çº¦30%è¦†ç›–ç‡
- **ç›®æ ‡è¦†ç›–ç‡**: 85%+
- **é‡ç‚¹æ¨¡å—**: AIæœåŠ¡ã€è®¤è¯ã€æ•°æ®æ¨¡å‹ã€å·¥å…·å‡½æ•°

## ğŸ¯ æµ‹è¯•ä¼˜å…ˆçº§

### P0 - æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ (å¿…é¡»100%è¦†ç›–)
1. **AIæœåŠ¡æ¨¡å—** (`src/lib/ai/`)
   - Gemini API é›†æˆ
   - æç¤ºè¯æ¨¡æ¿ç³»ç»Ÿ
   - AIå“åº”å¤„ç†

2. **è®¤è¯ç³»ç»Ÿ** (`src/lib/auth/`)
   - JWTå¤„ç†
   - ä¼šè¯ç®¡ç†
   - æƒé™éªŒè¯

3. **æ•°æ®æ¨¡å‹** (`src/lib/models/`)
   - Useræ¨¡å‹
   - Workæ¨¡å‹
   - KnowledgeGraphæ¨¡å‹

4. **APIè·¯ç”±** (`src/app/api/`)
   - è®¤è¯API
   - é­”æ³•ç”ŸæˆAPI
   - å¥åº·æ£€æŸ¥API

### P1 - é‡è¦åŠŸèƒ½æ¨¡å— (ç›®æ ‡90%è¦†ç›–)
1. **é‚®ä»¶æœåŠ¡** (`src/lib/email/`)
2. **é…é¢ç®¡ç†** (`src/lib/quota/`)
3. **ç¼“å­˜ç³»ç»Ÿ** (`src/lib/cache/`)
4. **å·¥å…·å‡½æ•°** (`src/lib/utils/`)
5. **React Hooks** (`src/hooks/`)

### P2 - æ”¯æŒåŠŸèƒ½æ¨¡å— (ç›®æ ‡70%è¦†ç›–)
1. **UIç»„ä»¶** (`src/components/`)
2. **ä¸­é—´ä»¶** (`src/middleware/`)
3. **çŠ¶æ€ç®¡ç†** (`src/stores/`)
4. **ç±»å‹å®šä¹‰** (`src/types/`)

## ğŸ“ æµ‹è¯•æ–‡ä»¶ç»“æ„

```
src/__tests__/unit/
â”œâ”€â”€ ai/                     # AIæœåŠ¡æµ‹è¯•
â”‚   â”œâ”€â”€ geminiService.test.ts
â”‚   â”œâ”€â”€ promptTemplates.test.ts
â”‚   â””â”€â”€ aiResponseHandler.test.ts
â”œâ”€â”€ auth/                   # è®¤è¯ç³»ç»Ÿæµ‹è¯•
â”‚   â”œâ”€â”€ jwtHandler.test.ts
â”‚   â”œâ”€â”€ sessionManager.test.ts
â”‚   â””â”€â”€ permissionValidator.test.ts
â”œâ”€â”€ models/                 # æ•°æ®æ¨¡å‹æµ‹è¯•
â”‚   â”œâ”€â”€ User.test.ts
â”‚   â”œâ”€â”€ Work.test.ts
â”‚   â””â”€â”€ KnowledgeGraph.test.ts
â”œâ”€â”€ api/                    # APIè·¯ç”±æµ‹è¯•
â”‚   â”œâ”€â”€ auth.test.ts
â”‚   â”œâ”€â”€ magic.test.ts
â”‚   â””â”€â”€ health.test.ts
â”œâ”€â”€ email/                  # é‚®ä»¶æœåŠ¡æµ‹è¯•
â”‚   â”œâ”€â”€ emailService.test.ts
â”‚   â”œâ”€â”€ templates.test.ts
â”‚   â””â”€â”€ verification.test.ts
â”œâ”€â”€ quota/                  # é…é¢ç®¡ç†æµ‹è¯•
â”‚   â””â”€â”€ quotaManager.test.ts
â”œâ”€â”€ cache/                  # ç¼“å­˜ç³»ç»Ÿæµ‹è¯•
â”‚   â”œâ”€â”€ redis.test.ts
â”‚   â””â”€â”€ simpleRedis.test.ts
â”œâ”€â”€ utils/                  # å·¥å…·å‡½æ•°æµ‹è¯•
â”‚   â”œâ”€â”€ logger.test.ts
â”‚   â”œâ”€â”€ helpers.test.ts
â”‚   â””â”€â”€ constants.test.ts
â”œâ”€â”€ hooks/                  # React Hooksæµ‹è¯•
â”‚   â”œâ”€â”€ useResponsive.test.ts
â”‚   â”œâ”€â”€ useDebounce.test.ts
â”‚   â””â”€â”€ useErrorHandler.test.ts
â”œâ”€â”€ components/             # ç»„ä»¶æµ‹è¯•
â”‚   â”œâ”€â”€ mobile/
â”‚   â”œâ”€â”€ auth/
â”‚   â””â”€â”€ ui/
â”œâ”€â”€ middleware/             # ä¸­é—´ä»¶æµ‹è¯•
â”‚   â””â”€â”€ errorHandler.test.ts
â””â”€â”€ stores/                 # çŠ¶æ€ç®¡ç†æµ‹è¯•
    â””â”€â”€ authStore.test.ts
```

## ğŸ”§ æµ‹è¯•å·¥å…·å’Œé…ç½®

### æµ‹è¯•æ¡†æ¶
- **Jest**: ä¸»è¦æµ‹è¯•æ¡†æ¶
- **React Testing Library**: Reactç»„ä»¶æµ‹è¯•
- **MSW**: APIæ¨¡æ‹Ÿ
- **Supertest**: APIé›†æˆæµ‹è¯•

### Mockç­–ç•¥
- **å¤–éƒ¨API**: ä½¿ç”¨MSWæ¨¡æ‹Ÿ
- **æ•°æ®åº“**: ä½¿ç”¨å†…å­˜æ•°æ®åº“
- **æ–‡ä»¶ç³»ç»Ÿ**: ä½¿ç”¨è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ
- **æ—¶é—´**: ä½¿ç”¨Jest fake timers

### æµ‹è¯•æ•°æ®
- **Fixtures**: æ ‡å‡†åŒ–æµ‹è¯•æ•°æ®
- **Factories**: åŠ¨æ€æµ‹è¯•æ•°æ®ç”Ÿæˆ
- **Builders**: å¤æ‚å¯¹è±¡æ„å»º

## ğŸ“Š æµ‹è¯•æŒ‡æ ‡

### è¦†ç›–ç‡ç›®æ ‡
- **è¯­å¥è¦†ç›–ç‡**: 85%+
- **åˆ†æ”¯è¦†ç›–ç‡**: 80%+
- **å‡½æ•°è¦†ç›–ç‡**: 90%+
- **è¡Œè¦†ç›–ç‡**: 85%+

### è´¨é‡æŒ‡æ ‡
- **æµ‹è¯•é€šè¿‡ç‡**: 100%
- **æµ‹è¯•æ‰§è¡Œæ—¶é—´**: <30ç§’
- **æµ‹è¯•ç¨³å®šæ€§**: æ— flakyæµ‹è¯•
- **ä»£ç è´¨é‡**: æ‰€æœ‰æµ‹è¯•éµå¾ªæœ€ä½³å®è·µ

## ğŸš€ å®æ–½è®¡åˆ’

### ç¬¬ä¸€é˜¶æ®µ (P0æ¨¡å—)
1. AIæœåŠ¡æ¨¡å—æµ‹è¯•
2. è®¤è¯ç³»ç»Ÿæµ‹è¯•
3. æ•°æ®æ¨¡å‹æµ‹è¯•
4. æ ¸å¿ƒAPIæµ‹è¯•

### ç¬¬äºŒé˜¶æ®µ (P1æ¨¡å—)
1. é‚®ä»¶æœåŠ¡æµ‹è¯•
2. é…é¢ç®¡ç†æµ‹è¯•
3. ç¼“å­˜ç³»ç»Ÿæµ‹è¯•
4. å·¥å…·å‡½æ•°æµ‹è¯•
5. React Hooksæµ‹è¯•

### ç¬¬ä¸‰é˜¶æ®µ (P2æ¨¡å—)
1. UIç»„ä»¶æµ‹è¯•
2. ä¸­é—´ä»¶æµ‹è¯•
3. çŠ¶æ€ç®¡ç†æµ‹è¯•
4. ç±»å‹å®šä¹‰æµ‹è¯•

## ğŸ“‹ æµ‹è¯•æ¸…å•

### æ¯ä¸ªæµ‹è¯•æ–‡ä»¶å¿…é¡»åŒ…å«
- [ ] å®Œæ•´çš„åŠŸèƒ½è¦†ç›–
- [ ] è¾¹ç•Œæ¡ä»¶æµ‹è¯•
- [ ] é”™è¯¯å¤„ç†æµ‹è¯•
- [ ] æ€§èƒ½æµ‹è¯• (å¦‚é€‚ç”¨)
- [ ] æ¸…æ™°çš„æµ‹è¯•æè¿°
- [ ] é€‚å½“çš„Mockå’ŒStub
- [ ] æµ‹è¯•æ•°æ®æ¸…ç†

### æµ‹è¯•è´¨é‡æ ‡å‡†
- [ ] æµ‹è¯•ç‹¬ç«‹æ€§ (ä¸ä¾èµ–å…¶ä»–æµ‹è¯•)
- [ ] æµ‹è¯•ç¡®å®šæ€§ (ç»“æœå¯é‡ç°)
- [ ] æµ‹è¯•å¯è¯»æ€§ (æ¸…æ™°çš„å‘½åå’Œç»“æ„)
- [ ] æµ‹è¯•ç»´æŠ¤æ€§ (æ˜“äºä¿®æ”¹å’Œæ‰©å±•)

---

**è®¡åˆ’åˆ¶å®šæ—¶é—´**: 2025å¹´9æœˆ5æ—¥  
**é¢„è®¡å®Œæˆæ—¶é—´**: 2025å¹´9æœˆ12æ—¥  
**è´Ÿè´£äºº**: å¼€å‘å›¢é˜Ÿ